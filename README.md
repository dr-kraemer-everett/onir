# onir
onir: manage dials, switches, and servos over I2C (uses Arduino's Wire library)

# license

The name 'onir' may sound dreamy, but it's also short for "oh, nothing I'd recommend." I hope this software will be ready to use outside my lab someday. But for now I wouldn't advise putting this near your hardware.

# updates

2026-02-18:

fifth commit: Add screen and screen_device, meant as a replacement for char_display. I find it amusing that my AI coding assistant, faced with the task of adapting this code, more or less told me, "Looks like you got this one, I'll just watch from here."

in all fairness, there was plenty of cruft I could remove and still have the minimal local screen reading "onir" and the I2C client/device pair blinking the colon. I probably would have made the bot port most of it over, but if I had to chip it out with my parentheses by hand I saw the upside of letting it go.

Next step is to swap the key demos over to use screen (and drop the non-key demos), and delete the char_thing code.

(updated the chat thread on the server side. no new link.)

third/fourth commit: (dropped the initial one that was just the creation of the repo without the files.) I used ChatGPT (the 'Plus' version, from my personal account) to split up the dial code into a client and device side, and got the demos working again.

I'd describe the result as mixed. I could've written the code in as much time as it took to produce with the model. Then I would've spent those hours writing C code instead of relitigating with a robot all of the semantic and procedural decisions I previously made with readability as my main (or only!) constraint. As the model put it, "The assistant frequently tried to generalize or conventionalize the structure. The final version is better because those changes were rejected."

But the end result wasn't that different from plenty of other code collaboration/review processes I've been part of. Maybe I'd rather be reviewing and mutating autogenerated code into saying what I want than writing it from scratch using letters and parentheses? I've written lots of C, and I'm sure I'll write more soon. But arguing with robots is pretty new. And I'm hoping that having hashed through these points we can pick up steam with the next part.

(https://chatgpt.com/share/6995fae0-6750-8003-951d-a63edae4d822)

second commit: Remove stray root directory.
(technical assistance: https://chatgpt.com/share/6995e7e2-22b4-8003-9260-1ff04d0b619f)

2026-02-17:
first commit of onir, a simple I2C library for dials, switches, and (eventually) servos. I hope it will help my students practice using some components that are greatly abundant in ko lab.

working sketches; char_channel, multi_char_client, char_device, local_char_device, simple_char_client, local_dial_device, test_char_client

I'm uploading onir to github because there's enough of it that it seems worth stashing here, and because I'm going to ask some coding AIs to handle the TODO material in dial_encoder.h to see how they manage the task.

I haven't successfully used AI for programming so far. I tried giving one of my old graph-traversal questions to ChatGPT shortly after its public release and was impressed at how readily it spat out what looked like working Python and C++ solutions. But it seemed to get lost when I tried it with anything bigger, and to have very different instincts than me when it came to how to break things up. And I didn't have any programs to write that I couldn't quickly bang out by hand anyway, so I deferred.

But I keep hearing that recent improvements have been impressive. Here I have a chunk of code that should be enough to generalize from. And I have other things to get done this week. So I thought I'd give it another shot.


